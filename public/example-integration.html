<!-- ========================================
     EXEMPLE D'INT√âGRATION HTML - PANNEAU ADMIN
     ======================================== -->

<!-- Dans votre fichier index.html, ajoutez ces modifications : -->

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Localify - Music Player</title>
    
    <!-- Vos CSS existants -->
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/cards-rows.css">
    <link rel="stylesheet" href="css/player.css">
    <link rel="stylesheet" href="css/view-dashboard.css">
    <link rel="stylesheet" href="css/view-playlists.css">
    <link rel="stylesheet" href="css/view-settings.css">
    
    <!-- ‚≠ê NOUVEAU : CSS Admin -->
    <link rel="stylesheet" href="css/view-admin.css">
    
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <!-- Canvas pour les particules d'ambiance -->
    <canvas id="particles-canvas"></canvas>

    <div class="app-container">
        <!-- SIDEBAR -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">Local<span>ify</span></div>
                <button class="close-menu" onclick="toggleMenu()">‚úï</button>
            </div>
            
            <div class="sidebar-scroll-area">
                <!-- Menu Principal -->
                <nav>
                    <button onclick="showDashboard()">
                        <i data-lucide="home"></i> Dashboard
                    </button>
                    <button onclick="showLib()">
                        <i data-lucide="music"></i> Biblioth√®que
                    </button>
                    <button onclick="showFavs()">
                        <i data-lucide="heart"></i> Favoris
                    </button>
                    <button onclick="showQueue()">
                        <i data-lucide="list"></i> File d'attente
                    </button>
                    <button onclick="showAllPlaylists()">
                        <i data-lucide="folder"></i> Playlists
                    </button>
                    <button onclick="showSettings()">
                        <i data-lucide="settings"></i> Param√®tres
                    </button>
                    
                    <!-- ‚≠ê NOUVEAU : Bouton Administration (visible uniquement pour les admins) -->
                    <button id="admin-menu-btn" style="display: none;" onclick="showAdminPanel()">
                        <i data-lucide="shield"></i> Administration
                    </button>
                </nav>

                <!-- Liste des Playlists -->
                <div class="pl-header">MES PLAYLISTS</div>
                <div id="pl-list"></div>
            </div>

            <!-- Footer Sidebar (Bouton Cr√©er) -->
            <div class="sidebar-footer">
                <button class="btn-new-pl" onclick="createPlaylistFromMenu()">
                    + Nouvelle Playlist
                </button>
            </div>
        </aside>

        <!-- CONTENU PRINCIPAL -->
        <main class="main-content" id="main-content">
            <!-- Top Navigation -->
            <div class="top-nav">
                <button id="burger" onclick="toggleMenu()">‚ò∞</button>
                <nav id="breadcrumb"></nav>
                <div class="search-wrap">
                    <input type="search" id="search-bar" placeholder="Rechercher..." oninput="handleSearch(this.value)">
                </div>
                <!-- Menu utilisateur -->
                <div id="user-menu-wrap" class="user-menu-wrap"></div>
            </div>

            <!-- Zone de contenu dynamique -->
            <div id="content-area"></div>
        </main>
    </div>

    <!-- LECTEUR AUDIO -->
    <div class="player">
        <!-- Visualiseur audio (barre du bas) -->
        <canvas id="visualizer"></canvas>
        
        <!-- Barre de progression (mobile) -->
        <div class="bar-wrap">
            <input type="range" id="seek" value="0">
        </div>

        <!-- Gauche : Cover + Info -->
        <div class="p-left">
            <div class="cover-container" onclick="toggleFocusMode()">
                <img id="player-cover" class="album-art" src="" alt="Cover">
                <div class="cover-overlay">üéµ</div>
            </div>
            <div class="track-meta">
                <div id="p-title">Titre</div>
                <div id="p-artist">Artiste</div>
            </div>
        </div>

        <!-- Centre : Contr√¥les -->
        <div class="p-mid">
            <div class="controls">
                <button onclick="toggleShuffle()" id="btn-shuffle" title="Al√©atoire">
                    <i data-lucide="shuffle"></i>
                </button>
                <button onclick="prev()" title="Pr√©c√©dent">
                    <i data-lucide="skip-back"></i>
                </button>
                <button id="play-btn" onclick="togglePlay()" title="Lecture/Pause">
                    <i data-lucide="play"></i>
                </button>
                <button onclick="next()" title="Suivant">
                    <i data-lucide="skip-forward"></i>
                </button>
                <button onclick="toggleRepeat()" id="btn-repeat" title="R√©p√©tition">
                    <i data-lucide="repeat"></i>
                </button>
                <button id="main-fav-btn" onclick="toggleCurrentFav()" title="Favoris">
                    <i data-lucide="heart"></i>
                </button>
                <button id="main-add-btn" onclick="openPLModalCurrent()" title="Ajouter √† une playlist">
                    <i data-lucide="plus"></i>
                </button>
            </div>
            <div class="bar-wrap">
                <span id="cur">0:00</span>
                <input type="range" id="seek" value="0">
                <span id="dur">0:00</span>
            </div>
        </div>

        <!-- Droite : Volume -->
        <div class="p-right">
            <div class="vol-wrap">
                <button id="mute-btn" onclick="toggleMute()" title="Muet">
                    <i data-lucide="volume-2"></i>
                </button>
                <input type="range" id="vol" min="0" max="1" step="0.01" value="1" oninput="updateVol(this.value)">
            </div>
        </div>
    </div>

    <!-- MODE FOCUS (Overlay plein √©cran) -->
    <div id="focus-overlay" class="hidden">
        <canvas id="visualizer-focus"></canvas>
        <button class="close-focus" onclick="toggleFocusMode()">‚úï</button>
        <div class="focus-content">
            <img id="focus-cover" src="" alt="Cover">
            <h1 id="focus-title">Titre</h1>
            <h2 id="focus-artist">Artiste</h2>
            
            <div class="focus-controls">
                <button onclick="prev()" title="Pr√©c√©dent">
                    <i data-lucide="skip-back"></i>
                </button>
                <button id="focus-play-btn" class="main-play" onclick="togglePlay()" title="Lecture/Pause">
                    <i data-lucide="play"></i>
                </button>
                <button onclick="next()" title="Suivant">
                    <i data-lucide="skip-forward"></i>
                </button>
                <button id="focus-fav-btn" onclick="toggleCurrentFav()" title="Favoris">
                    <i data-lucide="heart"></i>
                </button>
                <button id="focus-add-btn" onclick="openPLModalCurrent()" title="Ajouter">
                    <i data-lucide="plus"></i>
                </button>
            </div>
            
            <div class="bar-wrap focus-bar-wrap">
                <span id="focus-cur">0:00</span>
                <input type="range" id="focus-seek" value="0">
                <span id="focus-dur">0:00</span>
            </div>
        </div>
    </div>

    <!-- Menu contextuel -->
    <div id="context-menu" class="context-menu">
        <div class="context-item" onclick="ctxPlay()">‚ñ∂Ô∏è Lire</div>
        <div class="context-item" onclick="ctxQueue()">‚è≥ Ajouter √† la file</div>
        <div class="context-item" onclick="ctxFav()">‚ù§Ô∏è Favoris</div>
        <div class="context-item" onclick="ctxAddToPL()">‚ûï Ajouter √† une playlist</div>
        <div class="context-divider"></div>
        <div class="context-item" onclick="ctxYouTube()">üì∫ Rechercher sur YouTube</div>
    </div>

    <!-- Vid√©o PiP invisible -->
    <video id="pip-video" style="display:none;" muted loop>
        <source src="" type="video/mp4">
    </video>

    <!-- MODALES (√† ajouter selon vos besoins) -->
    <!-- Modal Cr√©er Playlist, Modal Ajouter √† Playlist, etc. -->

    <!-- ========================================
         SCRIPTS
         ======================================== -->
    
    <!-- Scripts existants -->
    <script src="js/state.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/player.js"></script>
    <script src="js/playlist.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/visualizer.js"></script>
    <script src="js/events.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/view-dashboard.js"></script>
    <script src="js/view-library.js"></script>
    <script src="js/view-playlists.js"></script>
    
    <!-- ‚≠ê NOUVEAU : Script Admin -->
    <script src="js/view-admin.js"></script>
    
    <script src="js/main.js"></script>

    <!-- ‚≠ê NOUVEAU : Script d'initialisation admin -->
    <script>
        // Fonction pour afficher/masquer le bouton admin
        function updateAdminMenuVisibility() {
            const adminBtn = document.getElementById('admin-menu-btn');
            if (adminBtn && authState.user && authState.user.isAdmin) {
                adminBtn.style.display = 'flex';
            } else if (adminBtn) {
                adminBtn.style.display = 'none';
            }
        }

        // Appeler apr√®s chaque connexion/d√©connexion
        document.addEventListener('DOMContentLoaded', () => {
            // Attendre que l'auth soit initialis√©e
            setTimeout(() => {
                updateAdminMenuVisibility();
                lucide.createIcons();
            }, 500);
        });

        // Appeler aussi apr√®s une connexion r√©ussie
        // (ajoutez cet appel dans votre fonction loginAccount apr√®s succ√®s)
        function onLoginSuccess() {
            updateAdminMenuVisibility();
        }
    </script>

    <!-- Initialisation des ic√¥nes Lucide -->
    <script>
        lucide.createIcons();
    </script>
</body>
</html>

<!-- ========================================
     NOTES D'INT√âGRATION
     ======================================== 

1. STRUCTURE DES FICHIERS :
   /css/
     - view-admin.css (nouveau)
   /js/
     - view-admin.js (nouveau)

2. ORDRE D'INCLUSION :
   - Les CSS doivent √™tre charg√©s avant les scripts
   - view-admin.js doit √™tre charg√© apr√®s state.js et utils.js
   - La fonction updateAdminMenuVisibility() doit √™tre appel√©e apr√®s l'authentification

3. V√âRIFICATION :
   - Le bouton admin n'appara√Æt que si authState.user.isAdmin === true
   - Assurez-vous que votre API renvoie bien la propri√©t√© isAdmin

4. PERSONNALISATION :
   - Vous pouvez modifier les couleurs dans view-admin.css
   - Les ic√¥nes utilisent Lucide (d√©j√† inclus dans votre projet)
   
========================================== -->
